{"version":3,"sources":["app/components/app.tsx","app/components/board.tsx","app/components/cell.tsx","app/config.ts","app/initialize.tsx","app/models/cell.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/FA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxEA;AAAA","file":"public/app.js","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar React = require(\"react\");\nvar board_1 = require(\"./board\");\nvar AppComponent = (function (_super) {\n    __extends(AppComponent, _super);\n    function AppComponent() {\n        return _super.call(this) || this;\n    }\n    AppComponent.prototype.render = function () {\n        var appStyle = {\n            margin: \"0px\",\n            padding: \"0px\",\n        };\n        return (React.createElement(\"div\", { style: appStyle },\n            React.createElement(board_1.BoardComponent, null)));\n    };\n    return AppComponent;\n}(React.Component));\nexports.AppComponent = AppComponent;\n//# sourceMappingURL=app.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar React = require(\"react\");\nvar cell_1 = require(\"../models/cell\");\nvar cell_2 = require(\"./cell\");\nvar config_1 = require(\"../config\");\nvar BoardComponent = (function (_super) {\n    __extends(BoardComponent, _super);\n    function BoardComponent() {\n        var _this = _super.call(this) || this;\n        _this.state = {\n            cells: cell_1.createCells(config_1.WIN_X, config_1.WIN_Y, config_1.CELL_COUNT)\n        };\n        return _this;\n    }\n    BoardComponent.prototype.start = function () {\n        var _this = this;\n        this.pausedInterval = setInterval(function () {\n            _this.update();\n        }, 1000);\n    };\n    BoardComponent.prototype.pause = function () {\n        clearInterval(this.pausedInterval);\n    };\n    BoardComponent.prototype.simulate = function (cells) {\n        var lifes = cell_1.cellsLife(cells);\n        var counts = cell_1.cellsCount(lifes);\n        var countsLife = cell_1.cellsCountLife(lifes, counts);\n        var lifesSimulate = lifes.slice();\n        countsLife.forEach(function (_a, index) {\n            var life = _a.life, count = _a.count;\n            if (life) {\n                if (count <= 1) {\n                    lifesSimulate[index] = false;\n                }\n                else if (count >= 4) {\n                    lifesSimulate[index] = false;\n                }\n                else {\n                    lifesSimulate[index] = true;\n                }\n            }\n            else {\n                if (count == 3) {\n                    lifesSimulate[index] = true;\n                }\n                else {\n                    lifesSimulate[index] = false;\n                }\n            }\n        });\n        return cell_1.updateCells(cells, lifesSimulate);\n    };\n    BoardComponent.prototype.update = function () {\n        var cells = this.simulate(this.state.cells);\n        this.setState({ cells: cells });\n    };\n    BoardComponent.prototype.componentWillMount = function () {\n        this.start();\n    };\n    BoardComponent.prototype.render = function () {\n        var boardStyle = {\n            position: 'relative',\n            margin: 'auto',\n            width: config_1.WIN_X + \".px\",\n            height: config_1.WIN_Y + \".px\",\n            backgroundColor: \"#efefef\",\n        };\n        var boardStyleUl = {\n            listStyleType: \"none\",\n            margin: \"0\",\n            padding: \"0\",\n        };\n        var cells = this.state.cells.map(function (cell, i) {\n            return (React.createElement(cell_2.CellComponent, __assign({}, cell, { key: i })));\n        });\n        return (React.createElement(\"div\", { style: boardStyle },\n            React.createElement(\"ul\", { style: boardStyleUl }, cells)));\n    };\n    return BoardComponent;\n}(React.Component));\nexports.BoardComponent = BoardComponent;\n//# sourceMappingURL=board.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar React = require(\"react\");\nvar CellComponent = (function (_super) {\n    __extends(CellComponent, _super);\n    function CellComponent(props) {\n        return _super.call(this, props) || this;\n    }\n    CellComponent.prototype.render = function () {\n        var _a = this.props, width = _a.width, height = _a.height, left = _a.left, top = _a.top, life = _a.life;\n        var cellStyle = {\n            position: 'absolute',\n            width: width - 1 + \"px\",\n            height: height - 1 + \"px\",\n            left: left + \"px\",\n            top: top + \"px\",\n            backgroundColor: life ? \"green\" : \"red\",\n        };\n        return (React.createElement(\"li\", { style: cellStyle }));\n    };\n    return CellComponent;\n}(React.Component));\nexports.CellComponent = CellComponent;\n//# sourceMappingURL=cell.js.map\n","\"use strict\";\nexports.WIN_X = 500;\nexports.WIN_Y = 500;\nexports.CELL_SCALE = 50;\nexports.CELL_COUNT = Math.pow(exports.CELL_SCALE, 2);\n//# sourceMappingURL=config.js.map\n","\"use strict\";\nvar ReactDOM = require(\"react-dom\");\nvar React = require(\"react\");\nvar app_1 = require(\"./components/app\");\nif (module.hot) {\n    module.hot.accept();\n}\nvar load = function () {\n    ReactDOM.render(React.createElement(app_1.AppComponent, null), document.querySelector('#app'));\n};\nif (document.readyState !== 'complete') {\n    document.addEventListener('DOMContentLoaded', load);\n}\nelse {\n    load();\n}\n//# sourceMappingURL=initialize.js.map\n","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nfunction createCells(width, height, count) {\n    var sizeX = Math.sqrt(width * height / count);\n    var sizeY = Math.sqrt(width * height / count);\n    var countX = Math.sqrt(count);\n    var countY = Math.sqrt(count);\n    var cells = new Array();\n    // create the cells\n    for (var i = 0; i < count; i++) {\n        var cellProps = {\n            width: sizeX,\n            height: sizeY,\n            left: (i % countX) * sizeX,\n            top: (Math.floor(i / countY)) * sizeY,\n            life: Math.random() <= 0.5 ? false : true,\n        };\n        cells.push(cellProps);\n    }\n    return cells;\n}\nexports.createCells = createCells;\nfunction cellsLife(cells) {\n    return cells.map(function (cell) { return cell.life; });\n}\nexports.cellsLife = cellsLife;\nfunction cellsCount(cells) {\n    var offset = Math.sqrt(cells.length);\n    return cells\n        .map(function (cell, index) {\n        var left = cells[index - 1] || false;\n        var right = cells[index + 1] || false;\n        var up = cells[index - offset] || false;\n        var down = cells[index + offset] || false;\n        var leftUp = cells[index - offset - 1] || false;\n        var rightUp = cells[index - offset + 1] || false;\n        var leftDown = cells[index + offset - 1] || false;\n        var rightDown = cells[index + offset + 1] || false;\n        return [left, right, up, down, leftUp, leftDown, rightUp, rightDown]\n            .reduce(function (previous, current) {\n            return current ? previous + 1 : previous;\n        }, 0);\n    });\n}\nexports.cellsCount = cellsCount;\nfunction cellsCountLife(cells, counts) {\n    var lifesCounts = new Array();\n    for (var i = 0; i < cells.length; i++) {\n        lifesCounts.push({\n            life: cells[i],\n            count: counts[i]\n        });\n    }\n    return lifesCounts;\n}\nexports.cellsCountLife = cellsCountLife;\nfunction updateCells(cells, life) {\n    var cellsUpdated = new Array();\n    for (var i = 0; i < cells.length; i++) {\n        cellsUpdated.push(__assign({}, cells[i], { life: life[i] }));\n    }\n    return cellsUpdated;\n}\nexports.updateCells = updateCells;\n//# sourceMappingURL=cell.js.map\n"]}