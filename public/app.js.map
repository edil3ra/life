{"version":3,"sources":["app/components/app.tsx","app/components/board.tsx","app/components/cell.tsx","app/components/panel.tsx","app/config.ts","app/initialize.tsx","app/models/cell.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArFA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtGA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtGA;AAAA","file":"public/app.js","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar React = require(\"react\");\nvar board_1 = require(\"./board\");\nvar panel_1 = require(\"./panel\");\nvar cell_1 = require(\"../models/cell\");\nvar config_1 = require(\"../config\");\nvar AppComponent = (function (_super) {\n    __extends(AppComponent, _super);\n    function AppComponent() {\n        var _this = _super.call(this) || this;\n        _this.state = {\n            cells: cell_1.createCells(config_1.WIN_X, config_1.WIN_Y, config_1.CELL_COUNT)\n        };\n        return _this;\n    }\n    AppComponent.prototype.start = function () {\n        var _this = this;\n        this.pausedInterval = setInterval(function () {\n            _this.update();\n        }, 1000);\n    };\n    AppComponent.prototype.pause = function () {\n        clearInterval(this.pausedInterval);\n        this.pausedInterval = 0;\n    };\n    AppComponent.prototype.update = function () {\n        var cells = cell_1.simulate(this.state.cells);\n        this.setState({ cells: cells });\n    };\n    AppComponent.prototype.componentWillMount = function () {\n        this.start();\n    };\n    AppComponent.prototype.handleRestart = function (event) {\n        event.preventDefault();\n        this.setState(__assign({}, this.state, { cells: cell_1.createCells(config_1.WIN_X, config_1.WIN_Y, Math.floor(this.state.cells.length)) }));\n    };\n    AppComponent.prototype.handleStartPause = function (event) {\n        event.preventDefault();\n        this.pausedInterval == 0 ? this.start() : this.pause();\n        this.forceUpdate();\n    };\n    AppComponent.prototype.handleCount = function (event) {\n        event.preventDefault();\n        this.setState(__assign({}, this.state, { cells: cell_1.createCells(config_1.WIN_X, config_1.WIN_Y, Math.pow(event.target.value, 2)) }));\n    };\n    AppComponent.prototype.render = function () {\n        var appStyle = {\n            margin: \"0px\",\n            padding: \"0px\",\n        };\n        var boardProps = {\n            cells: this.state.cells,\n            width: config_1.WIN_X,\n            height: config_1.WIN_Y,\n        };\n        var panelProps = {\n            started: this.pausedInterval > 0 ? true : false,\n            countMin: config_1.CELL_MIN_SCALE,\n            countMax: config_1.CELL_MAX_SCALE,\n            countCurrent: Math.floor(Math.pow(this.state.cells.length, 0.5)),\n            handleRestart: this.handleRestart.bind(this),\n            handleStartPause: this.handleStartPause.bind(this),\n            handleCount: this.handleCount.bind(this),\n        };\n        return (React.createElement(\"div\", { style: appStyle },\n            React.createElement(board_1.BoardComponent, __assign({}, boardProps)),\n            React.createElement(panel_1.PanelComponent, __assign({}, panelProps))));\n    };\n    return AppComponent;\n}(React.Component));\nexports.AppComponent = AppComponent;\n//# sourceMappingURL=app.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar React = require(\"react\");\nvar cell_1 = require(\"./cell\");\nvar BoardComponent = (function (_super) {\n    __extends(BoardComponent, _super);\n    function BoardComponent() {\n        return _super.call(this) || this;\n    }\n    BoardComponent.prototype.render = function () {\n        var boardStyle = {\n            position: 'relative',\n            margin: 'auto',\n            width: this.props.width + \".px\",\n            height: this.props.height + \".px\",\n            backgroundColor: \"#efefef\",\n        };\n        var boardStyleUl = {\n            listStyleType: \"none\",\n            margin: \"0\",\n            padding: \"0\",\n        };\n        var cells = this.props.cells.map(function (cell, i) {\n            return (React.createElement(cell_1.CellComponent, __assign({}, cell, { key: i })));\n        });\n        return (React.createElement(\"div\", { style: boardStyle },\n            React.createElement(\"ul\", { style: boardStyleUl }, cells)));\n    };\n    return BoardComponent;\n}(React.Component));\nexports.BoardComponent = BoardComponent;\n//# sourceMappingURL=board.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar React = require(\"react\");\nvar CellComponent = (function (_super) {\n    __extends(CellComponent, _super);\n    function CellComponent(props) {\n        return _super.call(this, props) || this;\n    }\n    CellComponent.prototype.render = function () {\n        var _a = this.props, width = _a.width, height = _a.height, left = _a.left, top = _a.top, life = _a.life;\n        var cellStyle = {\n            position: 'absolute',\n            width: width - 1 + \"px\",\n            height: height - 1 + \"px\",\n            left: left + \"px\",\n            top: top + \"px\",\n            backgroundColor: life ? \"green\" : \"red\",\n        };\n        return (React.createElement(\"li\", { style: cellStyle }));\n    };\n    return CellComponent;\n}(React.Component));\nexports.CellComponent = CellComponent;\n//# sourceMappingURL=cell.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar React = require(\"react\");\nvar PanelComponent = (function (_super) {\n    __extends(PanelComponent, _super);\n    function PanelComponent() {\n        var _this = _super.call(this) || this;\n        _this.styles = _this.initStyles();\n        _this.state = {\n            styles: {\n                restart: [_this.styles.button, _this.styles.restart],\n                startPause: [_this.styles.button, _this.styles.startPause],\n                count: [_this.styles.button, _this.styles.count],\n            }\n        };\n        return _this;\n    }\n    PanelComponent.prototype.initStyles = function () {\n        var styles = {\n            panel: {\n                'margin': 'auto',\n                'width': \"500px\",\n                'height': \"50px\",\n                'backgroundColor': \"#efefef\",\n                'overflow': 'hidden',\n            },\n            button: {\n                'display': 'block',\n                'height': '50px',\n                'float': 'left',\n                'margin': '0',\n                'padding': '10px',\n                'cursor': 'pointer',\n                'fontSize': '1em',\n                'color': '#fff',\n                'backgroundColor': '#6496c8',\n                'textShadow': '-1px 1px #417cb8',\n                'border': 'none'\n            },\n            restart: {},\n            startPause: {\n                'marginLeft': '10px',\n            },\n            count: {\n                'padding': '0px',\n                'marginLeft': '10px',\n            },\n            red: {\n                'color': '#fff',\n                'background': '#000',\n            },\n            green: {\n                'color': '#fff',\n                'background': '#000',\n            },\n            hover: {\n                'backgroundColor': '#346392',\n                'textShadow': '-1px 1px #27496d'\n            }\n        };\n        return styles;\n    };\n    PanelComponent.prototype.displayStyle = function (style) {\n        return style.reduce(function (previous, current) {\n            return __assign({}, previous, current);\n        }, {});\n    };\n    PanelComponent.prototype.appendStyle = function (key, item) {\n        var cloned = __assign({}, this.state);\n        cloned[\"styles\"][key].push(item);\n        this.setState(cloned);\n    };\n    PanelComponent.prototype.removeStyle = function (key) {\n        var cloned = __assign({}, this.state);\n        cloned[\"styles\"][key].pop();\n        this.setState(cloned);\n    };\n    PanelComponent.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, started = _a.started, countMin = _a.countMin, countMax = _a.countMax, countCurrent = _a.countCurrent, handleRestart = _a.handleRestart, handleStartPause = _a.handleStartPause, handleCount = _a.handleCount;\n        return (React.createElement(\"div\", { style: this.styles.panel },\n            React.createElement(\"form\", null,\n                React.createElement(\"button\", { style: this.displayStyle(this.state.styles.restart), onMouseEnter: (function (_) { return _this.appendStyle('restart', _this.styles.hover); }), onMouseLeave: (function (_) { return _this.removeStyle('restart'); }), onClick: handleRestart }, \"Restart\"),\n                React.createElement(\"button\", { style: this.displayStyle(this.state.styles.startPause), onMouseEnter: (function (_) { return _this.appendStyle('startPause', _this.styles.hover); }), onMouseLeave: (function (_) { return _this.removeStyle('startPause'); }), onClick: handleStartPause }, started ? \"Paused\" : \"Start\"),\n                React.createElement(\"input\", { style: __assign({}, this.styles.button, this.styles.count), type: \"range\", min: countMin, max: countMax, value: countCurrent, step: 1, onChange: handleCount }))));\n    };\n    return PanelComponent;\n}(React.Component));\nexports.PanelComponent = PanelComponent;\n//# sourceMappingURL=panel.js.map\n","\"use strict\";\nexports.WIN_X = 500;\nexports.WIN_Y = 500;\nexports.CELL_MIN_SCALE = 1;\nexports.CELL_MAX_SCALE = 100;\nexports.CELL_SCALE = 50;\nexports.CELL_COUNT = Math.pow(exports.CELL_SCALE, 2);\n//# sourceMappingURL=config.js.map\n","\"use strict\";\nvar ReactDOM = require(\"react-dom\");\nvar React = require(\"react\");\nvar app_1 = require(\"./components/app\");\nif (module.hot) {\n    module.hot.accept();\n}\nvar load = function () {\n    ReactDOM.render(React.createElement(app_1.AppComponent, null), document.querySelector('#app'));\n};\nif (document.readyState !== 'complete') {\n    document.addEventListener('DOMContentLoaded', load);\n}\nelse {\n    load();\n}\n//# sourceMappingURL=initialize.js.map\n","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nfunction createCells(width, height, count) {\n    var sizeX = Math.sqrt(width * height / count);\n    var sizeY = Math.sqrt(width * height / count);\n    var countX = Math.sqrt(count);\n    var countY = Math.sqrt(count);\n    var cells = new Array();\n    // create the cells\n    for (var i = 0; i < count; i++) {\n        var cellProps = {\n            width: sizeX,\n            height: sizeY,\n            left: (i % countX) * sizeX,\n            top: (Math.floor(i / countY)) * sizeY,\n            life: Math.random() <= 0.5 ? false : true,\n        };\n        cells.push(cellProps);\n    }\n    return cells;\n}\nexports.createCells = createCells;\nfunction cellsLife(cells) {\n    return cells.map(function (cell) { return cell.life; });\n}\nexports.cellsLife = cellsLife;\nfunction cellsCount(cells) {\n    var offset = Math.sqrt(cells.length);\n    return cells\n        .map(function (cell, index) {\n        var left = cells[index - 1] || false;\n        var right = cells[index + 1] || false;\n        var up = cells[index - offset] || false;\n        var down = cells[index + offset] || false;\n        var leftUp = cells[index - offset - 1] || false;\n        var rightUp = cells[index - offset + 1] || false;\n        var leftDown = cells[index + offset - 1] || false;\n        var rightDown = cells[index + offset + 1] || false;\n        return [left, right, up, down, leftUp, leftDown, rightUp, rightDown]\n            .reduce(function (previous, current) {\n            return current ? previous + 1 : previous;\n        }, 0);\n    });\n}\nexports.cellsCount = cellsCount;\nfunction cellsCountLife(cells, counts) {\n    var lifesCounts = new Array();\n    for (var i = 0; i < cells.length; i++) {\n        lifesCounts.push({\n            life: cells[i],\n            count: counts[i]\n        });\n    }\n    return lifesCounts;\n}\nexports.cellsCountLife = cellsCountLife;\nfunction updateCells(cells, life) {\n    var cellsUpdated = new Array();\n    for (var i = 0; i < cells.length; i++) {\n        cellsUpdated.push(__assign({}, cells[i], { life: life[i] }));\n    }\n    return cellsUpdated;\n}\nexports.updateCells = updateCells;\nfunction simulate(cells) {\n    var lifes = cellsLife(cells);\n    var counts = cellsCount(lifes);\n    var countsLife = cellsCountLife(lifes, counts);\n    var lifesSimulate = lifes.slice();\n    countsLife.forEach(function (_a, index) {\n        var life = _a.life, count = _a.count;\n        if (life) {\n            if (count <= 1) {\n                lifesSimulate[index] = false;\n            }\n            else if (count >= 4) {\n                lifesSimulate[index] = false;\n            }\n            else {\n                lifesSimulate[index] = true;\n            }\n        }\n        else {\n            if (count == 3) {\n                lifesSimulate[index] = true;\n            }\n            else {\n                lifesSimulate[index] = false;\n            }\n        }\n    });\n    return updateCells(cells, lifesSimulate);\n}\nexports.simulate = simulate;\n//# sourceMappingURL=cell.js.map\n"]}